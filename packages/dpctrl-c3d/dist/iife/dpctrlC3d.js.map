{"version":3,"file":"dpctrlC3d.js","sources":["@ailhc/dpctrl-c3d/src/node-ctrl.ts","@ailhc/dpctrl-c3d/src/layer.ts"],"sourcesContent":["import { } from \"@ailhc/display-ctrl\";\r\nimport { Node } from \"cc\";\r\nexport class NodeCtrl implements displayCtrl.ICtrl<Node> {\r\n    key?: string | any;\r\n\r\n    isLoading?: boolean;\r\n    isLoaded?: boolean;\r\n    isInited?: boolean;\r\n    isShowed?: boolean;\r\n    needShow?: boolean;\r\n    needLoad?: boolean;\r\n    isShowing?: boolean;\r\n    visible: boolean;\r\n    onLoadData: any;\r\n    protected node: Node;\r\n    protected _mgr: displayCtrl.IMgr;\r\n    constructor(dpcMgr?: displayCtrl.IMgr) {\r\n        this._mgr = dpcMgr;\r\n    }\r\n    onInit(config?: displayCtrl.IInitConfig<any, any>): void {\r\n\r\n    }\r\n    onShow(config?: displayCtrl.IShowConfig<any, any, any>): void {\r\n        if (this.node) {\r\n            this.node.active = true;\r\n        }\r\n    }\r\n\r\n    onUpdate(updateData: any): void {\r\n    }\r\n    getRess(): any[] | string[] {\r\n        return undefined;\r\n    }\r\n    getNode(): Node {\r\n        return this.node;\r\n    }\r\n    getFace<T = any>(): T {\r\n        return this as any;\r\n    }\r\n    onDestroy(destroyRes?: boolean): void {\r\n\r\n    }\r\n\r\n\r\n    onHide() {\r\n        if (this.node) {\r\n            this.node.active = false;\r\n        }\r\n    }\r\n    forceHide() {\r\n        this.node && (this.node.active = false);\r\n        this.isShowed = false\r\n    }\r\n    onResize() {\r\n    }\r\n}","import { } from \"@ailhc/layer\"\nimport { Node, UITransform } from \"cc\";\nexport class Layer extends Node implements layer.ILayer {\n\n\n\n    protected _layerType: number;\n    protected _layerMgr: layer.IMgr<Node>;\n\n    onInit(layerName: string, layerType: number\n        , layerMgr: layer.IMgr<Node>): void {\n        this._layerType = layerType;\n        this.name = layerName;\n        this._layerMgr = layerMgr;\n    }\n    onDestroy(): void {\n    }\n    public get layerType(): number {\n        return this._layerType;\n    }\n    get layerName(): string {\n        return this.name;\n    }\n    onAdd(root: Node) {\n        root.addChild(this);\n        const uiTransform = this.addComponent(UITransform);\n        const rootUITransform = root.getComponent(UITransform);\n        uiTransform.contentSize.set(rootUITransform.contentSize.width, rootUITransform.contentSize.height);\n    }\n    onHide(): void {\n        this.active = false;\n    }\n    onShow(): void {\n        this.active = true;\n    }\n    onSpAdd(sp: Node): void {\n        this.addChild(sp);\n    }\n    onNodeAdd(node: Node): void {\n        if (node.parent && node.parent === this) return;\n        this.addChild(node);\n    }\n\n}"],"names":["UITransform","Node"],"mappings":";;;;QAgBI,kBAAY,MAAyB;YACjC,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC;SACtB;QACD,yBAAM,GAAN,UAAO,MAA0C;SAEhD;QACD,yBAAM,GAAN,UAAO,MAA+C;YAClD,IAAI,IAAI,CAAC,IAAI,EAAE;gBACX,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;aAC3B;SACJ;QAED,2BAAQ,GAAR,UAAS,UAAe;SACvB;QACD,0BAAO,GAAP;YACI,OAAO,SAAS,CAAC;SACpB;QACD,0BAAO,GAAP;YACI,OAAO,IAAI,CAAC,IAAI,CAAC;SACpB;QACD,0BAAO,GAAP;YACI,OAAO,IAAW,CAAC;SACtB;QACD,4BAAS,GAAT,UAAU,UAAoB;SAE7B;QAGD,yBAAM,GAAN;YACI,IAAI,IAAI,CAAC,IAAI,EAAE;gBACX,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;aAC5B;SACJ;QACD,4BAAS,GAAT;YACI,IAAI,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC,CAAC;YACxC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAA;SACxB;QACD,2BAAQ,GAAR;SACC;QACL,eAAC;IAAD,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QCrD0B,yBAAI;QAA/B;;SAyCC;QAlCG,sBAAM,GAAN,UAAO,SAAiB,EAAE,SAAiB,EACrC,QAA0B;YAC5B,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;YAC5B,IAAI,CAAC,IAAI,GAAG,SAAS,CAAC;YACtB,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;SAC7B;QACD,yBAAS,GAAT;SACC;QACD,sBAAW,4BAAS;iBAApB;gBACI,OAAO,IAAI,CAAC,UAAU,CAAC;aAC1B;;;WAAA;QACD,sBAAI,4BAAS;iBAAb;gBACI,OAAO,IAAI,CAAC,IAAI,CAAC;aACpB;;;WAAA;QACD,qBAAK,GAAL,UAAM,IAAU;YACZ,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YACpB,IAAM,WAAW,GAAG,IAAI,CAAC,YAAY,CAACA,cAAW,CAAC,CAAC;YACnD,IAAM,eAAe,GAAG,IAAI,CAAC,YAAY,CAACA,cAAW,CAAC,CAAC;YACvD,WAAW,CAAC,WAAW,CAAC,GAAG,CAAC,eAAe,CAAC,WAAW,CAAC,KAAK,EAAE,eAAe,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;SACtG;QACD,sBAAM,GAAN;YACI,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;SACvB;QACD,sBAAM,GAAN;YACI,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;SACtB;QACD,uBAAO,GAAP,UAAQ,EAAQ;YACZ,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;SACrB;QACD,yBAAS,GAAT,UAAU,IAAU;YAChB,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,KAAK,IAAI;gBAAE,OAAO;YAChD,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;SACvB;QAEL,YAAC;IAAD,CAzCA,CAA2BC,OAAI;;;;;;;;;;;;;;;;;;"}