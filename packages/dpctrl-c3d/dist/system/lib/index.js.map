{"version":3,"file":"index.js","sources":["../../../src/node-ctrl.ts","../../../src/layer.ts"],"sourcesContent":["import { } from \"@ailhc/display-ctrl\";\r\nimport { Node } from \"cc\";\r\nexport class NodeCtrl implements displayCtrl.ICtrl<Node> {\r\n    key?: string;\r\n    isLoading?: boolean;\r\n    isLoaded?: boolean;\r\n    isInited?: boolean;\r\n    isAsyncShow?: boolean;\r\n    isShowing?: boolean;\r\n    isShowed?: boolean;\r\n    needShow?: boolean;\r\n    needLoad?: boolean;\r\n\r\n\r\n    visible: boolean;\r\n\r\n    protected node: Node;\r\n    protected _mgr: displayCtrl.IMgr;\r\n    constructor(dpcMgr?: displayCtrl.IMgr) {\r\n        this._mgr = dpcMgr;\r\n    }\r\n    getRess?(): string[] {\r\n        return undefined;\r\n    }\r\n    getNode(): Node {\r\n        return this.node;\r\n    }\r\n    onInit(initData?: any): void {\r\n\r\n    }\r\n    onUpdate(updateData: any): void {\r\n    }\r\n    getFace<T = any>(): T {\r\n        return this as any;\r\n    }\r\n    onDestroy(destroyRes?: boolean): void {\r\n\r\n    }\r\n    onShow(data?: any, endCb?: VoidFunction) {\r\n        if (this.node) {\r\n            this.node.active = true;\r\n        }\r\n        endCb && endCb();\r\n    }\r\n\r\n    onHide() {\r\n        if (this.node) {\r\n            this.node.active = false;\r\n        }\r\n    }\r\n    forceHide() {\r\n        this.node && (this.node.active = false);\r\n        this.isShowed = false\r\n    }\r\n    onResize() {\r\n    }\r\n}","import { } from \"@ailhc/layer\"\r\nimport { Node, UITransform } from \"cc\";\r\nexport class Layer extends Node implements egf.ILayer {\r\n\r\n\r\n\r\n    private _layerType: number;\r\n    private _layerMgr: egf.ILayerMgr<Node>;\r\n\r\n    onInit(layerName: string, layerType: number\r\n        , layerMgr: egf.ILayerMgr<Node>): void {\r\n        this._layerType = layerType;\r\n        this.name = layerName;\r\n        this._layerMgr = layerMgr;\r\n    }\r\n    onDestroy(): void {\r\n    }\r\n    public get layerType(): number {\r\n        return this._layerType;\r\n    }\r\n    get layerName(): string {\r\n        return this.name;\r\n    }\r\n    onAdd(root: Node) {\r\n        root.addChild(this);\r\n        const uiTransform = this.addComponent(UITransform);\r\n        const rootUITransform = root.getComponent(UITransform);\r\n        uiTransform.contentSize.set(rootUITransform.contentSize.width, rootUITransform.contentSize.height);\r\n    }\r\n    onHide(): void {\r\n        this.active = false;\r\n    }\r\n    onShow(): void {\r\n        this.active = true;\r\n    }\r\n    onSpAdd(sp: Node): void {\r\n        this.addChild(sp);\r\n    }\r\n    onNodeAdd(node: Node): void {\r\n        if (node.parent && node.parent === this) return;\r\n        this.addChild(node);\r\n    }\r\n\r\n}"],"names":[],"mappings":";;;;;;;;;;;gBAkBI,kBAAY,MAAyB;oBACjC,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC;iBACtB;gBACD,0BAAO,GAAP;oBACI,OAAO,SAAS,CAAC;iBACpB;gBACD,0BAAO,GAAP;oBACI,OAAO,IAAI,CAAC,IAAI,CAAC;iBACpB;gBACD,yBAAM,GAAN,UAAO,QAAc;iBAEpB;gBACD,2BAAQ,GAAR,UAAS,UAAe;iBACvB;gBACD,0BAAO,GAAP;oBACI,OAAO,IAAW,CAAC;iBACtB;gBACD,4BAAS,GAAT,UAAU,UAAoB;iBAE7B;gBACD,yBAAM,GAAN,UAAO,IAAU,EAAE,KAAoB;oBACnC,IAAI,IAAI,CAAC,IAAI,EAAE;wBACX,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;qBAC3B;oBACD,KAAK,IAAI,KAAK,EAAE,CAAC;iBACpB;gBAED,yBAAM,GAAN;oBACI,IAAI,IAAI,CAAC,IAAI,EAAE;wBACX,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;qBAC5B;iBACJ;gBACD,4BAAS,GAAT;oBACI,IAAI,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC,CAAC;oBACxC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAA;iBACxB;gBACD,2BAAQ,GAAR;iBACC;gBACL,eAAC;YAAD,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gBCtD0B,yBAAI;gBAA/B;;iBAyCC;gBAlCG,sBAAM,GAAN,UAAO,SAAiB,EAAE,SAAiB,EACrC,QAA6B;oBAC/B,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;oBAC5B,IAAI,CAAC,IAAI,GAAG,SAAS,CAAC;oBACtB,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;iBAC7B;gBACD,yBAAS,GAAT;iBACC;gBACD,sBAAW,4BAAS;yBAApB;wBACI,OAAO,IAAI,CAAC,UAAU,CAAC;qBAC1B;;;mBAAA;gBACD,sBAAI,4BAAS;yBAAb;wBACI,OAAO,IAAI,CAAC,IAAI,CAAC;qBACpB;;;mBAAA;gBACD,qBAAK,GAAL,UAAM,IAAU;oBACZ,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;oBACpB,IAAM,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC;oBACnD,IAAM,eAAe,GAAG,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC;oBACvD,WAAW,CAAC,WAAW,CAAC,GAAG,CAAC,eAAe,CAAC,WAAW,CAAC,KAAK,EAAE,eAAe,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;iBACtG;gBACD,sBAAM,GAAN;oBACI,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;iBACvB;gBACD,sBAAM,GAAN;oBACI,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;iBACtB;gBACD,uBAAO,GAAP,UAAQ,EAAQ;oBACZ,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;iBACrB;gBACD,yBAAS,GAAT,UAAU,IAAU;oBAChB,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,KAAK,IAAI;wBAAE,OAAO;oBAChD,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;iBACvB;gBAEL,YAAC;YAAD,CAzCA,CAA2B,IAAI;;;;;;"}