{"version":3,"file":"index.js","sources":["../../../src/BaseNodeCtrl.ts","../../../src/UILayer.ts"],"sourcesContent":["import { BaseDpCtrl } from \"@ailhc/display-ctrl\"\r\nimport { Node } from \"cc\";\r\nexport class BaseNodeCtrl<K extends Node = any> extends BaseDpCtrl {\r\n\r\n    visible: boolean;\r\n    getNode(): K {\r\n        return this.node;\r\n    }\r\n    protected node: K;\r\n    onShow(data?: any, endCb?: VoidFunction) {\r\n        if (this.node) {\r\n            this.node.active = true;\r\n        }\r\n        super.onShow()\r\n    }\r\n\r\n    onHide() {\r\n        if (this.node) {\r\n            this.node.removeFromParent();\r\n            this.node.active = false\r\n        }\r\n        super.onHide();\r\n    }\r\n    forceHide() {\r\n        this.node && (this.node.active = false);\r\n        this.isShowed = false\r\n    }\r\n    onAdd(parent: Node) {\r\n        if (!this.node) return;\r\n        parent.addChild(this.node);\r\n    }\r\n\r\n    onRemove() {\r\n        if (!this.node) return;\r\n        this.node.removeFromParent();\r\n\r\n    }\r\n    onResize() {\r\n        if (this.node) {\r\n            // this.ui.setContentSize();\r\n        }\r\n    }\r\n}","import { } from \"@ailhc/layer\"\nimport { Node, UITransform } from \"cc\";\nexport class UILayer extends Node implements egf.ILayer {\n\n\n\n    private _layerType: number;\n    private _layerMgr: egf.ILayerMgr<Node>;\n\n    onInit(layerName: string, layerType: number\n        , layerMgr: egf.ILayerMgr<Node>): void {\n        this._layerType = layerType;\n        this.name = layerName;\n        this._layerMgr = layerMgr;\n    }\n    onDestroy(): void {\n    }\n    public get layerType(): number {\n        return this._layerType;\n    }\n    get layerName(): string {\n        return this.name;\n    }\n    onAdd(root: Node) {\n        root.addChild(this);\n        const uiTransform = this.addComponent(UITransform);\n        const rootUITransform = root.getComponent(UITransform);\n        uiTransform.contentSize.set(rootUITransform.contentSize.width, rootUITransform.contentSize.height);\n    }\n    onHide(): void {\n        this.active = false;\n    }\n    onShow(): void {\n        this.active = true;\n    }\n    onSpAdd(sp: Node): void {\n        this.addChild(sp);\n    }\n    onNodeAdd(node: Node): void {\n        this.addChild(node);\n    }\n\n}"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gBAEwD,gCAAU;gBAAlE;;iBAwCC;gBArCG,8BAAO,GAAP;oBACI,OAAO,IAAI,CAAC,IAAI,CAAC;iBACpB;gBAED,6BAAM,GAAN,UAAO,IAAU,EAAE,KAAoB;oBACnC,IAAI,IAAI,CAAC,IAAI,EAAE;wBACX,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;qBAC3B;oBACD,iBAAM,MAAM,WAAE,CAAA;iBACjB;gBAED,6BAAM,GAAN;oBACI,IAAI,IAAI,CAAC,IAAI,EAAE;wBACX,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC;wBAC7B,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAA;qBAC3B;oBACD,iBAAM,MAAM,WAAE,CAAC;iBAClB;gBACD,gCAAS,GAAT;oBACI,IAAI,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC,CAAC;oBACxC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAA;iBACxB;gBACD,4BAAK,GAAL,UAAM,MAAY;oBACd,IAAI,CAAC,IAAI,CAAC,IAAI;wBAAE,OAAO;oBACvB,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iBAC9B;gBAED,+BAAQ,GAAR;oBACI,IAAI,CAAC,IAAI,CAAC,IAAI;wBAAE,OAAO;oBACvB,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC;iBAEhC;gBACD,+BAAQ,GAAR;oBACI,IAAI,IAAI,CAAC,IAAI,EAAE,CAEd;iBACJ;gBACL,mBAAC;YAAD,CAxCA,CAAwD,UAAU;;;gBCArC,2BAAI;gBAAjC;;iBAwCC;gBAjCG,wBAAM,GAAN,UAAO,SAAiB,EAAE,SAAiB,EACrC,QAA6B;oBAC/B,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;oBAC5B,IAAI,CAAC,IAAI,GAAG,SAAS,CAAC;oBACtB,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;iBAC7B;gBACD,2BAAS,GAAT;iBACC;gBACD,sBAAW,8BAAS;yBAApB;wBACI,OAAO,IAAI,CAAC,UAAU,CAAC;qBAC1B;;;mBAAA;gBACD,sBAAI,8BAAS;yBAAb;wBACI,OAAO,IAAI,CAAC,IAAI,CAAC;qBACpB;;;mBAAA;gBACD,uBAAK,GAAL,UAAM,IAAU;oBACZ,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;oBACpB,IAAM,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC;oBACnD,IAAM,eAAe,GAAG,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC;oBACvD,WAAW,CAAC,WAAW,CAAC,GAAG,CAAC,eAAe,CAAC,WAAW,CAAC,KAAK,EAAE,eAAe,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;iBACtG;gBACD,wBAAM,GAAN;oBACI,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;iBACvB;gBACD,wBAAM,GAAN;oBACI,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;iBACtB;gBACD,yBAAO,GAAP,UAAQ,EAAQ;oBACZ,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;iBACrB;gBACD,2BAAS,GAAT,UAAU,IAAU;oBAChB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;iBACvB;gBAEL,cAAC;YAAD,CAxCA,CAA6B,IAAI;;;;;;"}