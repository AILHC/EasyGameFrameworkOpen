{"version":3,"file":"index.js","sources":["../../../src/BaseNodeCtrl.ts","../../../src/Layer.ts"],"sourcesContent":["import { BaseDpCtrl } from \"@ailhc/display-ctrl\"\r\nexport class BaseNodeCtrl<K extends cc.Node = any> extends BaseDpCtrl {\r\n\r\n    visible: boolean;\r\n    getNode(): K {\r\n        return this.node;\r\n    }\r\n    protected node: K;\r\n    onShow(data?: any, endCb?: VoidFunction) {\r\n        if (this.node) {\r\n            this.node.active = true;\r\n        }\r\n        super.onShow()\r\n    }\r\n\r\n    onHide() {\r\n        if (this.node) {\r\n            this.node.removeFromParent();\r\n            this.node.active = false\r\n        }\r\n        super.onHide();\r\n    }\r\n    forceHide() {\r\n        this.node && (this.node.active = false);\r\n        this.isShowed = false\r\n    }\r\n    onAdd(parent: cc.Node) {\r\n        if (!this.node) return;\r\n        parent.addChild(this.node);\r\n    }\r\n\r\n    onRemove() {\r\n        if (!this.node) return;\r\n        this.node.removeFromParent();\r\n\r\n    }\r\n    onResize() {\r\n        if (this.node) {\r\n            // this.ui.setContentSize();\r\n        }\r\n    }\r\n}","import {} from \"@ailhc/layer\"\r\nexport class Layer extends cc.Node implements egf.ILayer {\r\n\r\n\r\n\r\n    private _layerType: number;\r\n    private _layerMgr: egf.ILayerMgr<cc.Node>;\r\n\r\n    onInit(layerName: string, layerType: number\r\n        , layerMgr: egf.ILayerMgr<cc.Node>): void {\r\n        this._layerType = layerType;\r\n        this.name = layerName;\r\n        this._layerMgr = layerMgr;\r\n    }\r\n    onDestroy(): void {\r\n    }\r\n    public get layerType(): number {\r\n        return this._layerType;\r\n    }\r\n    get layerName(): string {\r\n        return this.name;\r\n    }\r\n    onAdd(root: cc.Node) {\r\n        root.addChild(this);\r\n        this.width = root.width;\r\n        this.height = root.height;\r\n    }\r\n    onHide(): void {\r\n        this.active = false;\r\n    }\r\n    onShow(): void {\r\n        this.active = true;\r\n    }\r\n    onSpAdd(sp: cc.Node): void {\r\n        this.addChild(sp);\r\n    }\r\n    onNodeAdd(node: cc.Node): void {\r\n        this.addChild(node);\r\n    }\r\n\r\n}"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAC2D,gCAAU;IAArE;;KAwCC;IArCG,8BAAO,GAAP;QACI,OAAO,IAAI,CAAC,IAAI,CAAC;KACpB;IAED,6BAAM,GAAN,UAAO,IAAU,EAAE,KAAoB;QACnC,IAAI,IAAI,CAAC,IAAI,EAAE;YACX,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;SAC3B;QACD,iBAAM,MAAM,WAAE,CAAA;KACjB;IAED,6BAAM,GAAN;QACI,IAAI,IAAI,CAAC,IAAI,EAAE;YACX,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC;YAC7B,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAA;SAC3B;QACD,iBAAM,MAAM,WAAE,CAAC;KAClB;IACD,gCAAS,GAAT;QACI,IAAI,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC,CAAC;QACxC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAA;KACxB;IACD,4BAAK,GAAL,UAAM,MAAe;QACjB,IAAI,CAAC,IAAI,CAAC,IAAI;YAAE,OAAO;QACvB,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KAC9B;IAED,+BAAQ,GAAR;QACI,IAAI,CAAC,IAAI,CAAC,IAAI;YAAE,OAAO;QACvB,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC;KAEhC;IACD,+BAAQ,GAAR;QACI,IAAI,IAAI,CAAC,IAAI,EAAE,CAEd;KACJ;IACL,mBAAC;AAAD,CAxCA,CAA2D,UAAU;;;ICA1C,yBAAO;IAAlC;;KAuCC;IAhCG,sBAAM,GAAN,UAAO,SAAiB,EAAE,SAAiB,EACrC,QAAgC;QAClC,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;QAC5B,IAAI,CAAC,IAAI,GAAG,SAAS,CAAC;QACtB,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;KAC7B;IACD,yBAAS,GAAT;KACC;IACD,sBAAW,4BAAS;aAApB;YACI,OAAO,IAAI,CAAC,UAAU,CAAC;SAC1B;;;OAAA;IACD,sBAAI,4BAAS;aAAb;YACI,OAAO,IAAI,CAAC,IAAI,CAAC;SACpB;;;OAAA;IACD,qBAAK,GAAL,UAAM,IAAa;QACf,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QACpB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;QACxB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;KAC7B;IACD,sBAAM,GAAN;QACI,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;KACvB;IACD,sBAAM,GAAN;QACI,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;KACtB;IACD,uBAAO,GAAP,UAAQ,EAAW;QACf,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;KACrB;IACD,yBAAS,GAAT,UAAU,IAAa;QACnB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;KACvB;IAEL,YAAC;AAAD,CAAC,CAvC0B,EAAE,CAAC,IAAI;;;;"}